{"ast":null,"code":"import _objectSpread from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{Autocomplete,Button,Stack,TextField,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import React from\"react\";import Nav from\"../Nav/Nav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NewExpense=function NewExpense(){var _ref2;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),categories=_useState10[0],setCategories=_useState10[1];var submitHandler=function submitHandler(){var newProduct={item:item,amount:amount,date:date,category:category};console.log(typeof date);console.log(\"Submiting\");axios.post(\"http://localhost:3001/expenses/new\",newProduct);setItem(\"\");setAmount(0);setDate(\"\");setCategory(\"\");setCategories(\"\");};var getCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var expenses,categories,i,uniqueCategories;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/expenses\");case 2:expenses=_context.sent;categories=[];for(i=0;i<expenses.data.length;i++){// console.log(\"Category #\" + i);\nif(expenses.data[i].category){categories.push(expenses.data[i].category);}}uniqueCategories=_toConsumableArray(new Set(categories));console.log(\"Categories Type: \"+typeof uniqueCategories);setCategories(uniqueCategories);// return uniqueCategories;\ncase 8:case\"end\":return _context.stop();}}},_callee);}));return function getCategories(){return _ref.apply(this,arguments);};}();useEffect(function(){getCategories();console.log(\"in useEffect\"+categories);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Box,{sx:{height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"// border: \"3px solid green\",\n},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,sx:(_ref2={margin:\"2rem\",display:\"flex\",flexDirection:\"column\",// border: \"2px solid red\",\nwidth:\"600px\",alignItems:\"center\"},_defineProperty(_ref2,\"margin\",\"3rem auto\"),_defineProperty(_ref2,\"padding\",\"2rem\"),_ref2),children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"primary.light\",sx:{letterSpacing:\"4px\"},children:\"Enter A New Expense\"}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",label:\"Item\",onChange:function onChange(e){return setItem(e.target.value);},fullWidth:true,value:item}),/*#__PURE__*/_jsx(TextField,{type:\"number\",variant:\"outlined\",label:\"Amount\",onChange:function onChange(e){return setAmount(e.target.value);},fullWidth:true,value:amount}),/*#__PURE__*/_jsx(TextField,{label:\"Date\",type:\"date\",defaultValue:new Date(),onChange:function onChange(e){return setDate(e.target.value);},fullWidth:true,value:date,InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(Autocomplete,{options:categories,renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Category\",onChange:function onChange(e,newCategory){return setCategory(e.target.value);}}));},onChange:function onChange(e){return setCategory(e.target.innerText);},freeSolo:true,fullWidth:true,value:category}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:submitHandler,children:\"Add New Expense\"})]})})]});};export default NewExpense;","map":{"version":3,"names":["useState","useEffect","axios","Autocomplete","Button","Stack","TextField","Typography","Box","React","Nav","NewExpense","item","setItem","amount","setAmount","date","setDate","category","setCategory","categories","setCategories","submitHandler","newProduct","console","log","post","getCategories","get","expenses","i","data","length","push","uniqueCategories","Set","height","display","justifyContent","alignItems","margin","flexDirection","width","letterSpacing","e","target","value","Date","shrink","params","newCategory","innerText"],"sources":["/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/src/components/Expense/NewExpense.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Autocomplete,\n  Button,\n  Stack,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport Nav from \"../Nav/Nav\";\n\nconst NewExpense = () => {\n  const [item, setItem] = useState(\"\");\n  const [amount, setAmount] = useState(null);\n  const [date, setDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [categories, setCategories] = useState({});\n\n  const submitHandler = () => {\n    const newProduct = {\n      item,\n      amount,\n      date,\n      category,\n    };\n    console.log(typeof date);\n\n    console.log(\"Submiting\");\n    axios.post(\"http://localhost:3001/expenses/new\", newProduct);\n\n    setItem(\"\");\n    setAmount(0);\n    setDate(\"\");\n    setCategory(\"\");\n    setCategories(\"\");\n  };\n\n  const getCategories = async () => {\n    const expenses = await axios.get(\"http://localhost:3001/expenses\");\n    const categories = [];\n    for (let i = 0; i < expenses.data.length; i++) {\n      // console.log(\"Category #\" + i);\n      if (expenses.data[i].category) {\n        categories.push(expenses.data[i].category);\n      }\n    }\n    const uniqueCategories = [...new Set(categories)];\n    console.log(\"Categories Type: \" + typeof uniqueCategories);\n    setCategories(uniqueCategories);\n    // return uniqueCategories;\n  };\n\n  useEffect(() => {\n    getCategories();\n    console.log(\"in useEffect\" + categories);\n  }, []);\n  return (\n    <>\n      <Nav />\n      <Box\n        sx={{\n          height: \"100vh\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          // border: \"3px solid green\",\n        }}\n      >\n        <Stack\n          spacing={2}\n          sx={{\n            margin: \"2rem\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            // border: \"2px solid red\",\n            width: \"600px\",\n            alignItems: \"center\",\n            margin: \"3rem auto\",\n            padding: \"2rem\",\n          }}\n        >\n          <Typography\n            variant=\"h3\"\n            color=\"primary.light\"\n            sx={{ letterSpacing: \"4px\" }}\n          >\n            Enter A New Expense\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            label=\"Item\"\n            onChange={(e) => setItem(e.target.value)}\n            fullWidth\n            value={item}\n          />\n          <TextField\n            type=\"number\"\n            variant=\"outlined\"\n            label=\"Amount\"\n            onChange={(e) => setAmount(e.target.value)}\n            fullWidth\n            value={amount}\n          />\n          <TextField\n            label=\"Date\"\n            type=\"date\"\n            defaultValue={new Date()}\n            onChange={(e) => setDate(e.target.value)}\n            fullWidth\n            value={date}\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          {/* <TextField\n            variant=\"outlined\"\n            label=\"Category\"\n            onChange={(e) => setCategory(e.target.value)}\n            fullWidth\n            value={category}\n          /> */}\n          <Autocomplete\n            options={categories}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Category\"\n                onChange={(e, newCategory) => setCategory(e.target.value)}\n              />\n            )}\n            onChange={(e) => setCategory(e.target.innerText)}\n            freeSolo\n            fullWidth\n            value={category}\n          />\n          <Button variant=\"outlined\" onClick={submitHandler}>\n            Add New Expense\n          </Button>\n        </Stack>\n      </Box>\n    </>\n  );\n};\n\nexport default NewExpense;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}