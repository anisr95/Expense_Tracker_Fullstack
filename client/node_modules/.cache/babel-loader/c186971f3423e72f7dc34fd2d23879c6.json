{"ast":null,"code":"import _objectSpread from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{Autocomplete,Button,Stack,TextField,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import Nav from\"../Nav/Nav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditExpense=function EditExpense(props){var _ref3;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),categories=_useState10[0],setCategories=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),slicedDate=_useState12[0],setSlicedDate=_useState12[1];var params=useParams();var navigate=useNavigate();console.log(params);var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),expense=_useState14[0],setExpense=_useState14[1];var getOneExpense=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var oneExpense;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/expenses/\"+id);case 2:oneExpense=_context.sent;setExpense(oneExpense.data);setItem(oneExpense.data.item);setAmount(oneExpense.data.amount);setDate(oneExpense.data.date);setCategory(oneExpense.data.category);setSlicedDate(oneExpense.data.date.slice(0,10));console.log(\"One Expense: \",oneExpense.data);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getOneExpense(_x){return _ref.apply(this,arguments);};}();var getCategories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var expenses,categories,i,uniqueCategories;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:3001/expenses\");case 2:expenses=_context2.sent;categories=[];for(i=0;i<expenses.data.length;i++){// console.log(\"Category #\" + i);\nif(expenses.data[i].category){categories.push(expenses.data[i].category);}}uniqueCategories=_toConsumableArray(new Set(categories));console.log(\"Categories Type: \"+typeof uniqueCategories);setCategories(uniqueCategories);// return uniqueCategories;\ncase 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getCategories(){return _ref2.apply(this,arguments);};}();var submitHandler=function submitHandler(){var editedProduct={item:item,amount:amount,date:date,category:category};console.log(\"Edited Product: \"+editedProduct);console.log(\"in submitting\"+params.id);console.log(\"Editting\");axios.put(\"http://localhost:3001/expenses/\".concat(params.id,\"/edit\"),editedProduct);// setItem(\"\");\n// setAmount(0);\n// setDate(\"\");\n// setCategory(\"\");\n// setCategories(\"\");\nnavigate(\"/expenses\");};useEffect(function(){getOneExpense(params.id);getCategories();},[]);console.log(\"Daaaaaatee: \"+slicedDate);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Box,{sx:{height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"// border: \"3px solid green\",\n},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,sx:(_ref3={margin:\"2rem\",display:\"flex\",flexDirection:\"column\",// border: \"2px solid red\",\nwidth:\"600px\",alignItems:\"center\"},_defineProperty(_ref3,\"margin\",\"3rem auto\"),_defineProperty(_ref3,\"padding\",\"2rem\"),_ref3),children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"primary.light\",sx:{letterSpacing:\"4px\"},children:\"Edit Your Expense\"}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",label:\"Item\",onChange:function onChange(e){return setItem(e.target.value);},fullWidth:true,value:item,InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{type:\"number\",variant:\"outlined\",label:\"Amount\",onChange:function onChange(e){return setAmount(e.target.value);},fullWidth:true,value:amount,InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(TextField,{label:\"Date\",type:\"date\"// defaultValue={new Date()}\n,onChange:function onChange(e){return setDate(e.target.value);},fullWidth:true// defaultValue={slicedDate}\n// defaultValue={date.slice(0, 10)}\n,value:date.slice(0,10),InputLabelProps:{shrink:true}}),/*#__PURE__*/_jsx(Autocomplete,{options:categories,renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Category\",onChange:function onChange(e,newCategory){return setCategory(e.target.value);}}));},value:String(category),onChange:function onChange(e){return setCategory(e.target.innerText);},freeSolo:true,fullWidth:true}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:submitHandler,children:\"Edit Expense\"})]})})]});};export default EditExpense;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Autocomplete","Button","Stack","TextField","Typography","Box","Nav","EditExpense","props","item","setItem","amount","setAmount","date","setDate","category","setCategory","categories","setCategories","slicedDate","setSlicedDate","params","navigate","console","log","expense","setExpense","getOneExpense","id","get","oneExpense","data","slice","getCategories","expenses","i","length","push","uniqueCategories","Set","submitHandler","editedProduct","put","height","display","justifyContent","alignItems","margin","flexDirection","width","letterSpacing","e","target","value","shrink","newCategory","String","innerText"],"sources":["/Users/sinarafieefar/Projects/FullStack/Projects/ExpenseTracker/server/client/src/components/Expense/EditExpense.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  Autocomplete,\n  Button,\n  Stack,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport Nav from \"../Nav/Nav\";\n\nconst EditExpense = (props) => {\n  const [item, setItem] = useState(\"\");\n  const [amount, setAmount] = useState(null);\n  const [date, setDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [categories, setCategories] = useState({});\n  const [slicedDate, setSlicedDate] = useState(\"\");\n\n  const params = useParams();\n  const navigate = useNavigate();\n  console.log(params);\n\n  const [expense, setExpense] = useState({});\n\n  const getOneExpense = async (id) => {\n    const oneExpense = await axios.get(\"http://localhost:3001/expenses/\" + id);\n    setExpense(oneExpense.data);\n    setItem(oneExpense.data.item);\n    setAmount(oneExpense.data.amount);\n    setDate(oneExpense.data.date);\n    setCategory(oneExpense.data.category);\n    setSlicedDate(oneExpense.data.date.slice(0, 10));\n    console.log(\"One Expense: \", oneExpense.data);\n  };\n\n  const getCategories = async () => {\n    const expenses = await axios.get(\"http://localhost:3001/expenses\");\n    const categories = [];\n    for (let i = 0; i < expenses.data.length; i++) {\n      // console.log(\"Category #\" + i);\n      if (expenses.data[i].category) {\n        categories.push(expenses.data[i].category);\n      }\n    }\n    const uniqueCategories = [...new Set(categories)];\n    console.log(\"Categories Type: \" + typeof uniqueCategories);\n    setCategories(uniqueCategories);\n    // return uniqueCategories;\n  };\n\n  const submitHandler = () => {\n    const editedProduct = {\n      item,\n      amount,\n      date,\n      category,\n    };\n    console.log(\"Edited Product: \" + editedProduct);\n\n    console.log(\"in submitting\" + params.id);\n    console.log(\"Editting\");\n    axios.put(\n      `http://localhost:3001/expenses/${params.id}/edit`,\n      editedProduct\n    );\n\n    // setItem(\"\");\n    // setAmount(0);\n    // setDate(\"\");\n    // setCategory(\"\");\n    // setCategories(\"\");\n    navigate(\"/expenses\");\n  };\n\n  useEffect(() => {\n    getOneExpense(params.id);\n    getCategories();\n  }, []);\n  console.log(\"Daaaaaatee: \" + slicedDate);\n\n  return (\n    <>\n      <Nav />\n      <Box\n        sx={{\n          height: \"100vh\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          // border: \"3px solid green\",\n        }}\n      >\n        <Stack\n          spacing={2}\n          sx={{\n            margin: \"2rem\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            // border: \"2px solid red\",\n            width: \"600px\",\n            alignItems: \"center\",\n            margin: \"3rem auto\",\n            padding: \"2rem\",\n          }}\n        >\n          <Typography\n            variant=\"h3\"\n            color=\"primary.light\"\n            sx={{ letterSpacing: \"4px\" }}\n          >\n            Edit Your Expense\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            label=\"Item\"\n            onChange={(e) => setItem(e.target.value)}\n            fullWidth\n            value={item}\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          <TextField\n            type=\"number\"\n            variant=\"outlined\"\n            label=\"Amount\"\n            onChange={(e) => setAmount(e.target.value)}\n            fullWidth\n            value={amount}\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          <TextField\n            label=\"Date\"\n            type=\"date\"\n            // defaultValue={new Date()}\n            onChange={(e) => setDate(e.target.value)}\n            fullWidth\n            // defaultValue={slicedDate}\n            // defaultValue={date.slice(0, 10)}\n            value={date.slice(0, 10)}\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n\n          <Autocomplete\n            options={categories}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Category\"\n                onChange={(e, newCategory) => setCategory(e.target.value)}\n              />\n            )}\n            value={String(category)}\n            onChange={(e) => setCategory(e.target.innerText)}\n            freeSolo\n            fullWidth\n          />\n          <Button variant=\"outlined\" onClick={submitHandler}>\n            Edit Expense\n          </Button>\n        </Stack>\n      </Box>\n    </>\n  );\n};\n\nexport default EditExpense;\n"],"mappings":"2+BAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OACEC,YADF,CAEEC,MAFF,CAGEC,KAHF,CAIEC,SAJF,CAKEC,UALF,KAMO,eANP,CAOA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,IAAP,KAAgB,YAAhB,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAW,WAC7B,cAAwBb,QAAQ,CAAC,EAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eACA,eAA4Bf,QAAQ,CAAC,IAAD,CAApC,yCAAOgB,MAAP,eAAeC,SAAf,eACA,eAAwBjB,QAAQ,CAAC,EAAD,CAAhC,yCAAOkB,IAAP,eAAaC,OAAb,eACA,eAAgCnB,QAAQ,CAAC,EAAD,CAAxC,yCAAOoB,QAAP,eAAiBC,WAAjB,eACA,eAAoCrB,QAAQ,CAAC,EAAD,CAA5C,0CAAOsB,UAAP,gBAAmBC,aAAnB,gBACA,gBAAoCvB,QAAQ,CAAC,EAAD,CAA5C,2CAAOwB,UAAP,gBAAmBC,aAAnB,gBAEA,GAAMC,OAAM,CAAGxB,SAAS,EAAxB,CACA,GAAMyB,SAAQ,CAAGxB,WAAW,EAA5B,CACAyB,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAEA,gBAA8B1B,QAAQ,CAAC,EAAD,CAAtC,2CAAO8B,OAAP,gBAAgBC,UAAhB,gBAEA,GAAMC,cAAa,4FAAG,iBAAOC,EAAP,yJACK7B,MAAK,CAAC8B,GAAN,CAAU,kCAAoCD,EAA9C,CADL,QACdE,UADc,eAEpBJ,UAAU,CAACI,UAAU,CAACC,IAAZ,CAAV,CACArB,OAAO,CAACoB,UAAU,CAACC,IAAX,CAAgBtB,IAAjB,CAAP,CACAG,SAAS,CAACkB,UAAU,CAACC,IAAX,CAAgBpB,MAAjB,CAAT,CACAG,OAAO,CAACgB,UAAU,CAACC,IAAX,CAAgBlB,IAAjB,CAAP,CACAG,WAAW,CAACc,UAAU,CAACC,IAAX,CAAgBhB,QAAjB,CAAX,CACAK,aAAa,CAACU,UAAU,CAACC,IAAX,CAAgBlB,IAAhB,CAAqBmB,KAArB,CAA2B,CAA3B,CAA8B,EAA9B,CAAD,CAAb,CACAT,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BM,UAAU,CAACC,IAAxC,EARoB,uDAAH,kBAAbJ,cAAa,4CAAnB,CAWA,GAAMM,cAAa,6FAAG,4MACGlC,MAAK,CAAC8B,GAAN,CAAU,gCAAV,CADH,QACdK,QADc,gBAEdjB,UAFc,CAED,EAFC,CAGpB,IAASkB,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAGD,QAAQ,CAACH,IAAT,CAAcK,MAAlC,CAA0CD,CAAC,EAA3C,CAA+C,CAC7C;AACA,GAAID,QAAQ,CAACH,IAAT,CAAcI,CAAd,EAAiBpB,QAArB,CAA+B,CAC7BE,UAAU,CAACoB,IAAX,CAAgBH,QAAQ,CAACH,IAAT,CAAcI,CAAd,EAAiBpB,QAAjC,EACD,CACF,CACKuB,gBATc,oBASS,GAAIC,IAAJ,CAAQtB,UAAR,CATT,EAUpBM,OAAO,CAACC,GAAR,CAAY,oBAAsB,MAAOc,iBAAzC,EACApB,aAAa,CAACoB,gBAAD,CAAb,CACA;AAZoB,wDAAH,kBAAbL,cAAa,2CAAnB,CAeA,GAAMO,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAMC,cAAa,CAAG,CACpBhC,IAAI,CAAJA,IADoB,CAEpBE,MAAM,CAANA,MAFoB,CAGpBE,IAAI,CAAJA,IAHoB,CAIpBE,QAAQ,CAARA,QAJoB,CAAtB,CAMAQ,OAAO,CAACC,GAAR,CAAY,mBAAqBiB,aAAjC,EAEAlB,OAAO,CAACC,GAAR,CAAY,gBAAkBH,MAAM,CAACO,EAArC,EACAL,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAzB,KAAK,CAAC2C,GAAN,0CACoCrB,MAAM,CAACO,EAD3C,UAEEa,aAFF,EAKA;AACA;AACA;AACA;AACA;AACAnB,QAAQ,CAAC,WAAD,CAAR,CACD,CAtBD,CAwBA1B,SAAS,CAAC,UAAM,CACd+B,aAAa,CAACN,MAAM,CAACO,EAAR,CAAb,CACAK,aAAa,GACd,CAHQ,CAGN,EAHM,CAAT,CAIAV,OAAO,CAACC,GAAR,CAAY,eAAiBL,UAA7B,EAEA,mBACE,wCACE,KAAC,GAAD,IADF,cAEE,KAAC,GAAD,EACE,EAAE,CAAE,CACFwB,MAAM,CAAE,OADN,CAEFC,OAAO,CAAE,MAFP,CAGFC,cAAc,CAAE,QAHd,CAIFC,UAAU,CAAE,QACZ;AALE,CADN,uBASE,MAAC,KAAD,EACE,OAAO,CAAE,CADX,CAEE,EAAE,SACAC,MAAM,CAAE,MADR,CAEAH,OAAO,CAAE,MAFT,CAGAI,aAAa,CAAE,QAHf,CAIA;AACAC,KAAK,CAAE,OALP,CAMAH,UAAU,CAAE,QANZ,iCAOQ,WAPR,kCAQS,MART,QAFJ,wBAaE,KAAC,UAAD,EACE,OAAO,CAAC,IADV,CAEE,KAAK,CAAC,eAFR,CAGE,EAAE,CAAE,CAAEI,aAAa,CAAE,KAAjB,CAHN,+BAbF,cAoBE,KAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,KAAK,CAAC,MAFR,CAGE,QAAQ,CAAE,kBAACC,CAAD,QAAOzC,QAAO,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHZ,CAIE,SAAS,KAJX,CAKE,KAAK,CAAE5C,IALT,CAME,eAAe,CAAE,CACf6C,MAAM,CAAE,IADO,CANnB,EApBF,cA8BE,KAAC,SAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,QAHR,CAIE,QAAQ,CAAE,kBAACH,CAAD,QAAOvC,UAAS,CAACuC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAJZ,CAKE,SAAS,KALX,CAME,KAAK,CAAE1C,MANT,CAOE,eAAe,CAAE,CACf2C,MAAM,CAAE,IADO,CAPnB,EA9BF,cAyCE,KAAC,SAAD,EACE,KAAK,CAAC,MADR,CAEE,IAAI,CAAC,MACL;AAHF,CAIE,QAAQ,CAAE,kBAACH,CAAD,QAAOrC,QAAO,CAACqC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAJZ,CAKE,SAAS,KACT;AACA;AAPF,CAQE,KAAK,CAAExC,IAAI,CAACmB,KAAL,CAAW,CAAX,CAAc,EAAd,CART,CASE,eAAe,CAAE,CACfsB,MAAM,CAAE,IADO,CATnB,EAzCF,cAuDE,KAAC,YAAD,EACE,OAAO,CAAErC,UADX,CAEE,WAAW,CAAE,qBAACI,MAAD,qBACX,KAAC,SAAD,gCACMA,MADN,MAEE,KAAK,CAAC,UAFR,CAGE,QAAQ,CAAE,kBAAC8B,CAAD,CAAII,WAAJ,QAAoBvC,YAAW,CAACmC,CAAC,CAACC,MAAF,CAASC,KAAV,CAA/B,EAHZ,GADW,EAFf,CASE,KAAK,CAAEG,MAAM,CAACzC,QAAD,CATf,CAUE,QAAQ,CAAE,kBAACoC,CAAD,QAAOnC,YAAW,CAACmC,CAAC,CAACC,MAAF,CAASK,SAAV,CAAlB,EAVZ,CAWE,QAAQ,KAXV,CAYE,SAAS,KAZX,EAvDF,cAqEE,KAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,OAAO,CAAEjB,aAApC,0BArEF,GATF,EAFF,GADF,CAwFD,CA9JD,CAgKA,cAAejC,YAAf"},"metadata":{},"sourceType":"module"}